<html metal:use-macro="load: ../base.pt">
<div metal:fill-slot="content">
<div  class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">${request.title}</h3>
    </div>
    <div class="panel-body">
    
        <form id="myform" method="post" enctype="multipart/form-data" accept-charset="utf-8" 
             class="form-horizontal">
        <div tal:condition="'id' in form" style="display:none;">
          <div tal:define="field form['id']">
              ${structure:field.serialize()}
          </div>
        </div>
    <div class="form-group">
        <div tal:define="field form['kode']" id="item-${field.oid}">
            <label for="${field.oid}" class="control-label col-md-1" id="req-${field.oid}">
                    ${field.title}</label>
            <div class="col-md-2">
               ${structure:field.serialize()}
                <p id="error-${field.oid}" class="help-block" tal:condition="field.error"
                   tal:repeat="error field.error.messages()">
                   ${error}</p>
            </div>
        </div>
        <div tal:define="field form['nama']" id="item-${field.oid}">
            <label for="${field.oid}" class="control-label col-md-1" id="req-${field.oid}">
                    ${field.title}</label>
            <div class="col-md-4">
               ${structure:field.serialize()}
                <p id="error-${field.oid}" class="help-block" tal:condition="field.error"
                   tal:repeat="error field.error.messages()">
                   ${error}</p>
            </div>
        </div>
        
        <div tal:define="field form['pemilik_id']" style="display: none;">
              ${structure:field.serialize()}
        </div>
        <div tal:define="field form['pemilik_nm']" id="item-${field.oid}">
            <label for="${field.oid}" class="control-label col-md-1" id="req-${field.oid}">
                    ${field.title}</label>
            <div class="col-md-3">
               ${structure:field.serialize()}
                <p id="error-${field.oid}" class="help-block" tal:condition="field.error"
                   tal:repeat="error field.error.messages()">
                   ${error}</p>
            </div>
        </div>
        <script>
            $('#pemilik_nm').typeahead({
                 "hint"     : true,
                 "highlight": true,
                 "minLength": 1,
				 "limit"    : 10,
                 "remote"   : "/reklame/pemilik/hon_pemilik/act?term=%QUERY",
            },{
                "name"      : 'pemilik_nm',
                "displayKey": 'value',
            });

            $('#pemilik_nm').bind('typeahead:selected', function(obj, datum, name) {      
                  $('#pemilik_id').val(datum.id);
            });
        </script>
    </div>
	<div class="form-group">
        <div tal:define="field form['rekening_id']" style="display: none;">
              ${structure:field.serialize()}
        </div>
        <div tal:define="field form['rekening_nm']" id="item-${field.oid}">
            <label for="${field.oid}" class="control-label col-md-1" id="req-${field.oid}">
                    ${field.title}</label>
            <div class="col-md-5">
               ${structure:field.serialize()}
                <p id="error-${field.oid}" class="help-block" tal:condition="field.error"
                   tal:repeat="error field.error.messages()">
                   ${error}</p>
            </div>
        </div>
        
        <div tal:define="field form['rek_nsr_id']" style="display: none;">
              ${structure:field.serialize()}
        </div>
        <div tal:define="field form['rek_nsr_nm']" id="item-${field.oid}">
            <label for="${field.oid}" class="control-label col-md-1" id="req-${field.oid}">
                    ${field.title}</label>
            <div class="col-md-3">
               ${structure:field.serialize()}
                <p id="error-${field.oid}" class="help-block" tal:condition="field.error"
                   tal:repeat="error field.error.messages()">
                   ${error}</p>
            </div>
        </div>
        <div tal:define="field form['rek_nsr_ni']" id="item-${field.oid}">
            <label for="${field.oid}" class="control-label col-md-1" id="req-${field.oid}">
                    ${field.title}</label>
            <div class="col-md-1">
               ${structure:field.serialize()}
                <p id="error-${field.oid}" class="help-block" tal:condition="field.error"
                   tal:repeat="error field.error.messages()">
                   ${error}</p>
            </div>
        </div>
        <script>
            $('#rekening_nm').typeahead({
                 "hint"     : true,
                 "highlight": true,
                 "minLength": 1,
				 "limit"    : 10,
                 "remote"   : "/rekening/headofnama/act?term=%QUERY",
            },{
                "name"      : 'rekening_nm',
                "displayKey": 'value',
            });

            $('#rekening_nm').bind('typeahead:selected', function(obj, datum, name) {      
                  $('#rekening_id').val(datum.id);
                  
                  $('#rek_nsr_nm').typeahead({
                       "hint"     : true,
                       "highlight": true,
                       "minLength": 1,
			      	   "limit"    : 10,
                       "remote"   : "/reklame/nsr/hon_nsr_op/act?rek_id="+$("#rekening_id").val()+"&term=%QUERY",
                  },{
                      "name"      : 'rek_nsr_nm',
                      "displayKey": 'value',
                  });
            });
            
            $('#rek_nsr_nm').bind('typeahead:selected', function(obj, datum, name) {      
                  $('#rek_nsr_id').val(datum.id);
                  $('#rek_nsr_ni').val(datum.nilai);
            });     
            $("#rek_nsr_ni").attr('readonly',true);     
            $("#kode").attr('readonly',true);    
        </script>
    </div>
	<div class="form-group">
        <div tal:define="field form['provinsi']" id="item-${field.oid}">
            <label for="${field.oid}" class="control-label col-md-1" id="req-${field.oid}">
                    ${field.title}</label>
            <div class="col-md-2">
               ${structure:field.serialize()}
                <p id="error-${field.oid}" class="help-block" tal:condition="field.error"
                   tal:repeat="error field.error.messages()">
                   ${error}</p>
            </div>
        </div>
        <div tal:define="field form['kabupaten']" id="item-${field.oid}">
            <label for="${field.oid}" class="control-label col-md-1" id="req-${field.oid}">
                    ${field.title}</label>
            <div class="col-md-2">
               ${structure:field.serialize()}
                <p id="error-${field.oid}" class="help-block" tal:condition="field.error"
                   tal:repeat="error field.error.messages()">
                   ${error}</p>
            </div>
        </div>
        
        <div tal:define="field form['kecamatan_id']" style="display: none;">
              ${structure:field.serialize()}
        </div>
        <div tal:define="field form['kecamatan']" id="item-${field.oid}">
            <label for="${field.oid}" class="control-label col-md-1" id="req-${field.oid}">
                    ${field.title}</label>
            <div class="col-md-2">
               ${structure:field.serialize()}
                <p id="error-${field.oid}" class="help-block" tal:condition="field.error"
                   tal:repeat="error field.error.messages()">
                   ${error}</p>
            </div>
        </div>
        
        <div tal:define="field form['kelurahan_id']" style="display: none;">
              ${structure:field.serialize()}
        </div>
        <div tal:define="field form['kelurahan_nm']" id="item-${field.oid}">
            <label for="${field.oid}" class="control-label col-md-1" id="req-${field.oid}">
                    ${field.title}</label>
            <div class="col-md-2">
               ${structure:field.serialize()}
                <p id="error-${field.oid}" class="help-block" tal:condition="field.error"
                   tal:repeat="error field.error.messages()">
                   ${error}</p>
            </div>
        </div>
        <script>
            $('#kecamatan').typeahead({
                 "hint"     : true,
                 "highlight": true,
                 "minLength": 1,
				 "limit"    : 10,
                 "remote"   : "/reklame/kecamatan/hon_kec/act?term=%QUERY",
            },{
                "name"      : 'kecamatan',
                "displayKey": 'value',
            });

            $('#kecamatan').bind('typeahead:selected', function(obj, datum, name) {      
                  $('#kecamatan_id').val(datum.id);
                  
                  $('#kelurahan_nm').typeahead({
                       "hint"     : true,
                       "highlight": true,
                       "minLength": 1,
			      	 "limit"    : 10,
                       "remote"   : "/reklame/kelurahan/hon_kel_op/act?kec_id="+$("#kecamatan_id").val()+"&term=%QUERY",
                  },{
                      "name"      : 'kelurahan_nm',
                      "displayKey": 'value',
                  });
            });
            
            $('#kelurahan_nm').bind('typeahead:selected', function(obj, datum, name) {      
                  $('#kelurahan_id').val(datum.id);
                  //$('#kecamatan').val(datum.kec);
            });
        </script>
    </div>
	<div class="form-group">
        <div tal:define="field form['jalan_id']" style="display: none;">
              ${structure:field.serialize()}
        </div>
        <div tal:define="field form['jalan_nm']" id="item-${field.oid}">
            <label for="${field.oid}" class="control-label col-md-1" id="req-${field.oid}">
                    ${field.title}</label>
            <div class="col-md-3">
               ${structure:field.serialize()}
                <p id="error-${field.oid}" class="help-block" tal:condition="field.error"
                   tal:repeat="error field.error.messages()">
                   ${error}</p>
            </div>
        </div>
        <div tal:define="field form['alamat']" id="item-${field.oid}">
            <label for="${field.oid}" class="control-label col-md-1" id="req-${field.oid}">
                    ${field.title}</label>
            <div class="col-md-4">
               ${structure:field.serialize()}
                <p id="error-${field.oid}" class="help-block" tal:condition="field.error"
                   tal:repeat="error field.error.messages()">
                   ${error}</p>
            </div>
        </div>
        <script>
            $('#jalan_nm').typeahead({
                 "hint"     : true,
                 "highlight": true,
                 "minLength": 1,
				 "limit"    : 10,
                 "remote"   : "/reklame/jalan/hon_jal/act?term=%QUERY",
            },{
                "name"      : 'jalan_nm',
                "displayKey": 'value',
            });

            $('#jalan_nm').bind('typeahead:selected', function(obj, datum, name) {      
                  $('#jalan_id').val(datum.id);
            });
        </script>
        <div tal:define="field form['no_urut']" id="item-${field.oid}">
            <label for="${field.oid}" class="control-label col-md-1" id="req-${field.oid}">
                    ${field.title}</label>
            <div class="col-md-1">
               ${structure:field.serialize()}
                <p id="error-${field.oid}" class="help-block" tal:condition="field.error"
                   tal:repeat="error field.error.messages()">
                   ${error}</p>
            </div>
        </div>
    </div>
    <div class="form-group">
        <div tal:define="field form['koordinat_x']" id="item-${field.oid}">
            <label for="${field.oid}" class="control-label col-md-1" id="req-${field.oid}">
                    ${field.title}</label>
            <div class="col-md-1">
               ${structure:field.serialize()}
                <p id="error-${field.oid}" class="help-block" tal:condition="field.error"
                   tal:repeat="error field.error.messages()">
                   ${error}</p>
            </div>
        </div>
        <div tal:define="field form['koordinat_y']" id="item-${field.oid}">
            <div class="col-md-1">
               ${structure:field.serialize()}
                <p id="error-${field.oid}" class="help-block" tal:condition="field.error"
                   tal:repeat="error field.error.messages()">
                   ${error}</p>
            </div>
        </div>

        <div tal:define="field form['sudut_pandang']" id="item-${field.oid}">
            <label for="${field.oid}" class="control-label col-md-1" id="req-${field.oid}">
                    ${field.title}</label>
            <div class="col-md-2">
               ${structure:field.serialize()}
                <p id="error-${field.oid}" class="help-block" tal:condition="field.error"
                   tal:repeat="error field.error.messages()">
                   ${error}</p>
            </div>
        </div>
        <div tal:define="field form['ketinggian_id']" style="display: none;">
              ${structure:field.serialize()}
        </div>
        <div tal:define="field form['ketinggian_nm']" id="item-${field.oid}">
            <label for="${field.oid}" class="control-label col-md-1" id="req-${field.oid}">
                    ${field.title}</label>
            <div class="col-md-2">
               ${structure:field.serialize()}
                <p id="error-${field.oid}" class="help-block" tal:condition="field.error"
                   tal:repeat="error field.error.messages()">
                   ${error}</p>
            </div>
        </div>
        <div tal:define="field form['ketinggian_ni']" id="item-${field.oid}">
            <label for="${field.oid}" class="control-label col-md-1" id="req-${field.oid}">
                    ${field.title}</label>
            <div class="col-md-1">
               ${structure:field.serialize()}
                <p id="error-${field.oid}" class="help-block" tal:condition="field.error"
                   tal:repeat="error field.error.messages()">
                   ${error}</p>
            </div>
        </div>
        <script>
            $('#ketinggian_nm').typeahead({
                 "hint"     : true,
                 "highlight": true,
                 "minLength": 1,
				 "limit"    : 10,
                 "remote"   : "/reklame/ketinggian/hon_tinggi/act?term=%QUERY",
            },{
                "name"      : 'ketinggian_nm',
                "displayKey": 'value',
            });

            $('#ketinggian_nm').bind('typeahead:selected', function(obj, datum, name) {      
                $('#ketinggian_id').val(datum.id);
                $('#ketinggian_ni').val(datum.nilai);
            });
            
            $("#ketinggian_ni").attr('readonly',true);
            //$("#kecamatan").attr('readonly',true);
            $("#no_urut").attr('readonly',true);
        </script>
    </div>
    <br>
    <div class="form-group">
        <div tal:define="field form['panjang']" id="item-${field.oid}">
            <label for="${field.oid}" class="control-label col-md-1" id="req-${field.oid}">
                    ${field.title}</label>
            <div class="col-md-1">
               ${structure:field.serialize()}
                <p id="error-${field.oid}" class="help-block" tal:condition="field.error"
                   tal:repeat="error field.error.messages()">
                   ${error}</p>
            </div>
        </div>
        <div tal:define="field form['lebar']" id="item-${field.oid}">
            <label for="${field.oid}" class="control-label col-md-1" id="req-${field.oid}">
                    ${field.title}</label>
            <div class="col-md-1">
               ${structure:field.serialize()}
                <p id="error-${field.oid}" class="help-block" tal:condition="field.error"
                   tal:repeat="error field.error.messages()">
                   ${error}</p>
            </div>
        </div>
        <div tal:define="field form['muka']" id="item-${field.oid}">
            <label for="${field.oid}" class="control-label col-md-1" id="req-${field.oid}">
                    ${field.title}</label>
            <div class="col-md-1">
               ${structure:field.serialize()}
                <p id="error-${field.oid}" class="help-block" tal:condition="field.error"
                   tal:repeat="error field.error.messages()">
                   ${error}</p>
            </div>
        </div>
        <div tal:define="field form['jumlah']" id="item-${field.oid}">
            <label for="${field.oid}" class="control-label col-md-1" id="req-${field.oid}">
                    ${field.title}</label>
            <div class="col-md-1">
               ${structure:field.serialize()}
                <p id="error-${field.oid}" class="help-block" tal:condition="field.error"
                   tal:repeat="error field.error.messages()">
                   ${error}</p>
            </div>
        </div>
        <div tal:define="field form['luas']" id="item-${field.oid}">
            <label for="${field.oid}" class="control-label col-md-1" id="req-${field.oid}">
                    ${field.title}</label>
            <div class="col-md-1">
               ${structure:field.serialize()}
                <p id="error-${field.oid}" class="help-block" tal:condition="field.error"
                   tal:repeat="error field.error.messages()">
                   ${error}</p>
            </div>
        </div>
        <script>
            $("#luas").attr('readonly',true);
        </script>
    </div>
    <div class="form-group">
        <div tal:define="field form['disabled']" id="item-${field.oid}">
            <label for="${field.oid}" class="control-label col-md-1" id="req-${field.oid}">
                    ${field.title}</label>
            <div class="col-md-2">
               ${structure:field.serialize()}
                <p id="error-${field.oid}" class="help-block" tal:condition="field.error"
                   tal:repeat="error field.error.messages()">
                   ${error}</p>
            </div>
        </div>
    </div>
	<br>
    <div class="col-md-3">
      <label class="control-label col-md-4"></label>
      <button id="deformsave" name="simpan" type="submit" class="btn btn-primary "
            value="simpan">Simpan</button>
      <button id="deformcancel" name="batal" type="submit" class="btn btn-danger "
            value="batal">Batal</button>
    </div>
    
</form>
</div>
</div>

</div>
</html>